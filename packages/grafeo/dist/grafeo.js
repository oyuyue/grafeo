!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var o in n)("object"==typeof exports?exports:t)[o]=n[o]}}(self,(function(){return(()=>{"use strict";var t={275:(t,e,n)=>{function o(t){return"string"==typeof t}function i(t){return"function"==typeof t}function r(){}function s(t){return o(t)?document.querySelector(t):t}function c(){const t=document.createElement("div");return t.style.width="100%",t.style.height="100%",t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center",t}n.r(e),n.d(e,{EVENT_DISABLE:()=>S,EVENT_ENABLE:()=>L,destroyApp:()=>x,disable:()=>U,emit:()=>$,enable:()=>B,exportApp:()=>y,getApp:()=>g,getAppChanges:()=>E,getApps:()=>m,isEnabled:()=>F,mountApp:()=>w,off:()=>T,on:()=>N,once:()=>O,originPushState:()=>V,originReplaceState:()=>D,registerApp:()=>v,setEventPrefix:()=>_,unregisterApp:()=>b,updateApp:()=>A});const a=self.requestIdleCallback||function(t){return setTimeout(t,1)};let u=[];function l(t){u.push(t)}function p(t,e={}){const n=s(e.el||t);if(!n)return r;const o=c();return o.innerHTML=`<svg fill="${e.color||"#03A9F4"}" viewBox="0 0 52 20" width="52"><circle cx="6" cy="10" r="6"><animate attributeName="opacity" dur="1s" values="0;1;0" repeatCount="indefinite" begin=".1"/></circle><circle cx="26" cy="10" r="6"><animate attributeName="opacity" dur="1s" values="0;1;0" repeatCount="indefinite" begin=".2"/></circle><circle cx="46" cy="10" r="6"><animate attributeName="opacity" dur="1s" values="0;1;0" repeatCount="indefinite" begin=".3"/></circle></svg>`,n.appendChild(o),function(){o.parentNode&&o.parentNode.removeChild(o)}}function d(t,e={},n){const o=s(e.el||t);if(!o)return r;const i=c();i.style.cursor="pointer",i.innerHTML=`<svg viewBox="0 0 24 24" width="50"><path fill="${e.color||"#D32F2F"}" d="M13 13h-2V7h2m0 10h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2z"/></svg>`;const a=function(){i.parentNode&&i.parentNode.removeChild(i)};return i.addEventListener("click",(function(){a(),n.mount(t)})),o.appendChild(i),a}class f{constructor(t){this.loaded=!1,this.mounting=!1,this.mounted=!1,this.load_=r,this.opts=t,i(t.load)?this.load_=t.load:this.load_=()=>System.import(t.load||t.name),o(t.mountWhen)?this.isRouteMatch=function(t){const e=function(t){let e=0,n=!1,o="^";"/"!==t[0]&&(t="/"+t);for(let e=0;e<t.length;e++){const o=t[e],r=n&&"/"===o;(!n&&":"===o||r)&&i(e)}return i(t.length),new RegExp(o,"i");function i(i){const r=t.slice(e,i).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");o+=n?"[^/]+/?":r,i!==t.length||n||(o="/"===o.charAt(o.length-1)?`${o}.*$`:`${o}([/#].*)?$`),n=!n,e=i}}(t);return function(t,n){return e.test(n)}}(t.mountWhen):i(t.mountWhen)&&(this.isRouteMatch=t.mountWhen),i(t.loading)?this.uiLoading=t.loading:!1!==t.loading&&(this.uiLoading=p),i(t.error)?this.uiError=t.error:!1!==t.error&&(this.uiError=d)}async load(){if(this.loaded&&this.appEntry)return;const t=await this.load_();this.loaded=!0,this.appEntry=t}async createApp(t){await this.load(),this.appEntry&&(this.app=this.appEntry(t||this.opts.props))}async update(t){this.app?this.app.update(t):await this.createApp(t)}async mount(t){if(!this.mounted&&!this.mounting){if(!this.app){let e;this.mounting=!0;const n=t||this.opts.props&&this.opts.props.el;this.uiLoading&&(e=this.uiLoading(n,this.opts.loadingProps));try{await this.createApp()}catch(t){if(this.uiError)return void(this.destroyUIError=this.uiError(n,this.opts.errorProps,this));throw t}finally{this.mounting=!1,e&&e()}}this.app.mount(t),this.mounted=!0}}destroy(){this.mounted=!1,this.mounting=!1,this.destroyUIError&&(this.destroyUIError(),this.destroyUIError=void 0),this.app&&this.app.destroy()}isMounted(){return this.mounted}isLoaded(){return this.loaded}}const h=Object.create(null);function y(t){return function(e,n){let o=t(e,n);if(n)return;const s={mount:r,update:r,destroy:r};return i(o)?o={mount:o}:Array.isArray(o)&&(o={mount:o[0],destroy:o[1]}),Object.assign(s,o)}}function m(){return Object.keys(h).map((t=>h[t]))}function g(t){return h[t]}function E(t){const e={mounts:[],destroys:[]};return m().forEach((n=>{if(n.isRouteMatch){const o=n.isRouteMatch(location,t);n.isMounted()&&!o?e.destroys.push(n):!n.isMounted()&&o&&e.mounts.push(n)}})),e}function v(t){const e=g(t.name);if(e&&e.destroy(),h[t.name]=new f(t),t.prefetch){const e=h[t.name];a(e.load.bind(e))}}function b(t){x(t),delete h[t]}async function w(t,e){const n=g(t);if(n)return n.mount(e)}function A(t,e){const n=g(t);n&&n.update(e)}function x(t){const e=g(t);if(e)return e.destroy()}const L="enable",S="disable";let C=!1,M="grafeo:";try{new window.CustomEvent("T")}catch(t){const e=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n};e.prototype=window.Event.prototype,self.CustomEvent=e}try{const t=Object.defineProperty({},"once",{get(){C=!0}});self.addEventListener("test",null,t)}catch(t){}const j=new Map;function P(t){return function({detail:e}){return t(e)}}function N(t,e,n){const o=P(e);j.set(e,o),self.addEventListener(M+t,o,n)}function O(t,e){const n=P(e);if(j.set(e,n),C)self.addEventListener(M+t,n,{once:!0});else{const e=o=>{T(t,e),n(o)};self.addEventListener(M+t,e)}}function T(t,e){const n=j.get(e);self.removeEventListener(M+t,n),j.delete(e)}function $(t,e){const n=new CustomEvent(M+t,{detail:e,bubbles:!1,cancelable:!1});self.dispatchEvent(n)}function _(t){M=t}let I,R=!1;function F(){return R}function B(){R||(R=!0,$(L))}function U(){R&&(R=!1,$(S))}function W(t){let e;try{e=new PopStateEvent("popstate",{state:t})}catch(n){e=document.createEvent("PopStateEvent"),e.initPopStateEvent("popstate",!1,!1,t)}return e}function k(t){return function(){const e=self.location.href,n=t.apply(this,arguments);if(!F())return n;const o=self.location.href;return e!==o&&self.dispatchEvent(W(self.history.state)),n}}function q(){F()&&(cancelAnimationFrame(I),I=requestAnimationFrame((function(){const t=E(location.href.replace(location.origin,"").replace(location.search,"").split("?")[0]);t.mounts.forEach((t=>{try{t.mount()}catch(t){l(t)}})),t.destroys.forEach((t=>{try{t.destroy()}catch(t){l(t)}})),function(){if(!u.length)return;const t=u;throw u=[],t}()})))}const V=self.history.pushState,D=self.history.replaceState;self.history.pushState=k(V),self.history.replaceState=k(D),self.addEventListener("hashchange",q),self.addEventListener("popstate",q),N(L,q)}},e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={exports:{}};return t[o](i,i.exports,n),i.exports}return n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(275)})()}));
//# sourceMappingURL=grafeo.js.map